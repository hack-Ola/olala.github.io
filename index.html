<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø¬Ù…Ø±Ø© ØºØ¶Ù‰ - Ù„Ø¹Ø¨Ø© Ø§Ù„Ø°Ø§ÙƒØ±Ø©</title>

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
    color:white;
    text-align:center;
}

/* Ø§Ù„Ø¹Ù†ÙˆØ§Ù† */
h1{
    margin-top:20px;
    font-size:28px;
}

/* Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… */
.controls{
    margin:15px;
}

input, select{
    padding:8px;
    border-radius:8px;
    border:none;
    margin:5px;
}

button{
    padding:10px 20px;
    border:none;
    border-radius:10px;
    background:linear-gradient(45deg,#d4af37,#f9e076);
    font-weight:bold;
    cursor:pointer;
    margin:10px;
}

/* Ø§Ù„Ø´Ø¨ÙƒØ© */
.game-board{
    display:grid;
    gap:12px;
    padding:15px;
    max-width:700px;
    margin:auto;
}

/* Ø§Ù„ÙƒØ±Øª */
.card{
    position:relative;
    width:100%;
    aspect-ratio:1/1;
    perspective:1000px;
    cursor:pointer;
}

.card-inner{
    position:absolute;
    width:100%;
    height:100%;
    transition:transform 0.6s;
    transform-style:preserve-3d;
}

.card.flipped .card-inner{
    transform:rotateY(180deg);
}

.card-front, .card-back{
    position:absolute;
    width:100%;
    height:100%;
    backface-visibility:hidden;
    border-radius:15px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:24px;
    font-weight:bold;
}

.card-front{
    background:white;
    color:#2a5298;
    border:4px solid #d4af37;
}

.card-back{
    background:#fff;
    transform:rotateY(180deg);
    border:4px solid #d4af37;
}

.card-back img{
    width:100%;
    height:100%;
    object-fit:cover;
    border-radius:12px;
}

/* Ø±Ø³Ø§Ù„Ø© Ø§Ù„ÙÙˆØ² */
#winnerMessage{
    font-size:20px;
    margin-top:15px;
    color:#ffd700;
}
</style>
</head>
<body>

<h1>ğŸ”¥ Ø¬Ù…Ø±Ø© ØºØ¶Ù‰ - Ù„Ø¹Ø¨Ø© Ø§Ù„Ø°Ø§ÙƒØ±Ø© ğŸ”¥</h1>

<div class="controls">
    <input type="text" id="playerName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨">
    
    <select id="difficulty">
        <option value="4">Ø³Ù‡Ù„</option>
        <option value="6">Ù…ØªÙˆØ³Ø·</option>
        <option value="8">ØµØ¹Ø¨</option>
    </select>

    <button onclick="startGame()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
</div>

<div class="game-board" id="gameBoard"></div>
<div id="winnerMessage"></div>

<script>

const allImages = [
"https://e.top4top.io/p_3697mlg9s2.png",
"https://picsum.photos/300?1",
"https://picsum.photos/300?2",
"https://picsum.photos/300?3",
"https://picsum.photos/300?4",
"https://picsum.photos/300?5",
"https://picsum.photos/300?6",
"https://picsum.photos/300?7"
];

let cards = [];
let firstCard = null;
let secondCard = null;
let lockBoard = false;
let matches = 0;

function startGame(){

    document.getElementById("winnerMessage").innerHTML="";
    const board = document.getElementById("gameBoard");
    board.innerHTML="";
    matches = 0;

    const difficulty = parseInt(document.getElementById("difficulty").value);
    const selectedImages = allImages.slice(0, difficulty);

    cards = [...selectedImages, ...selectedImages];
    cards.sort(()=>0.5 - Math.random());

    board.style.gridTemplateColumns = `repeat(auto-fit,minmax(80px,1fr))`;

    cards.forEach(src=>{
        const card = document.createElement("div");
        card.classList.add("card");

        card.innerHTML = `
        <div class="card-inner">
            <div class="card-front">ğŸ‘‘</div>
            <div class="card-back">
                <img src="${src}">
            </div>
        </div>
        `;

        card.addEventListener("click", flipCard);
        board.appendChild(card);
    });
}

function flipCard(){
    if(lockBoard) return;
    if(this === firstCard) return;

    this.classList.add("flipped");

    if(!firstCard){
        firstCard = this;
        return;
    }

    secondCard = this;
    checkMatch();
}

function checkMatch(){
    const img1 = firstCard.querySelector("img").src;
    const img2 = secondCard.querySelector("img").src;

    if(img1 === img2){
        matches++;
        resetBoard();

        if(matches === cards.length/2){
            showWinner();
        }

    }else{
        lockBoard = true;
        setTimeout(()=>{
            firstCard.classList.remove("flipped");
            secondCard.classList.remove("flipped");
            resetBoard();
        },800);
    }
}

function showWinner(){
    const name = document.getElementById("playerName").value || "Ø§Ù„Ø¨Ø·Ù„";
    document.getElementById("winnerMessage").innerHTML =
    `ğŸ† Ù…Ø¨Ø±ÙˆÙƒ ${name} ! Ù„Ù‚Ø¯ ÙØ²Øª ÙÙŠ Ø¬Ù…Ø±Ø© ØºØ¶Ù‰ ğŸ”¥`;
}

function resetBoard(){
    [firstCard, secondCard] = [null, null];
    lockBoard = false;
}

</script>

</body>
</html></html>