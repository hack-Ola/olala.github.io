<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>Ø¬Ù…Ø±Ø© ØºØ¶Ù‰</title>
    <link rel="stylesheet" href="./style.css">

  </head>
    
  <body>


<style>
body{
    margin:0;
    font-family: Arial;
    background: linear-gradient(135deg,#1e3c72,#2a5298);
    color:white;
    text-align:center;
}

h1{
    margin-top:20px;
}

.controls{
    margin:20px;
}

button{
    padding:10px 20px;
    border:none;
    border-radius:8px;
    cursor:pointer;
    background:#ffcc00;
    font-weight:bold;
}

#game-board{
    display:grid;
    gap:15px;
    justify-content:center;
    margin:20px;
}

.card{
    width:100px;
    height:130px;
    perspective:1000px;
}

.card-inner{
    width:100%;
    height:100%;
    position:relative;
    transform-style: preserve-3d;
    transition: transform 0.6s;
}

.card.flipped .card-inner{
    transform: rotateY(180deg);
}

.card-front, .card-back{
    position:absolute;
    width:100%;
    height:100%;
    backface-visibility:hidden;
    border-radius:12px;
}

.card-front{
    background:#ffcc70;
}

.card-back{
    transform: rotateY(180deg);
    background:white;
}

.card-back img{
    width:100%;
    height:100%;
    border-radius:12px;
}

#scoreboard{
    margin-top:10px;
    font-size:18px;
}
</style>
</head>

<body>

<h1> Ù„Ø¹Ø¨Ø© Ø§Ù„Ø°Ø§ÙƒØ±Ø© - Ø¬Ù…Ø±Ø© ØºØ¶Ù‰</h1>

<div class="controls">
Ø¹Ø¯Ø¯ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†:
<input type="number" id="playersCount" value="2" min="1" max="6">

Ø§Ù„Ù…Ø³ØªÙˆÙ‰:
<select id="difficulty">
<option value="8">Ø³Ù‡Ù„ (8 )</option>
<option value="12">Ù…ØªÙˆØ³Ø· (12 )</option>
<option value="16">ØµØ¹Ø¨ (16 )</option>
  <option value="16">(30 )Ù…ØªÙ‚Ø¯Ù…</option>
</select>

<button onclick="startGame()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
</div>

<div id="scoreboard"></div>
<h3 id="turn"></h3>

<div id="game-board"></div>

<script>

let players=[];
let currentPlayer=0;
let flippedCards=[];
let matchedPairs=0;
let totalPairs=8;

const images=[
"https://e.top4top.io/p_3697mlg9s2.png",
"https://picsum.photos/200?1",
"https://picsum.photos/200?2",
"https://picsum.photos/200?3",
"https://picsum.photos/200?4",
"https://picsum.photos/200?5",
"https://picsum.photos/200?6",
"https://picsum.photos/200?7",
"https://picsum.photos/200?8",
"https://picsum.photos/200?9",
"https://picsum.photos/200?10",
"https://picsum.photos/200?11",
"https://picsum.photos/200?12",
"https://picsum.photos/200?13",
"https://picsum.photos/200?14",
"https://picsum.photos/200?15",
"https://picsum.photos/200?16"
 
  
];

function startGame(){
    const count=parseInt(document.getElementById("playersCount").value);
    totalPairs=parseInt(document.getElementById("difficulty").value);

    players=[];
    for(let i=0;i<count;i++){
        players.push({score:0});
    }

    currentPlayer=0;
    matchedPairs=0;
    flippedCards=[];
    createBoard();
    updateScore();
}

function createBoard(){
    const board=document.getElementById("game-board");
    board.innerHTML="";
    board.style.gridTemplateColumns=`repeat(${Math.sqrt(totalPairs*2)}, 1fr)`;

    let selected=images.slice(0,totalPairs);
    let cards=[...selected,...selected];
    cards.sort(()=>0.5-Math.random());

    cards.forEach(img=>{
        const card=document.createElement("div");
        card.className="card";
        card.dataset.value=img;

        card.innerHTML=`
        <div class="card-inner">
            <div class="card-front">Ola</div>
            <div class="card-back">
                <img src="${img}">
            </div>
        </div>`;

        card.onclick=()=>flipCard(card);
        board.appendChild(card);
    });
}

function flipCard(card){
    if(flippedCards.length<2 && !card.classList.contains("flipped")){
        card.classList.add("flipped");
        flippedCards.push(card);
    }

    if(flippedCards.length===2){
        setTimeout(checkMatch,800);
    }
}

function checkMatch(){
    const [c1,c2]=flippedCards;

    if(c1.dataset.value===c2.dataset.value){
        players[currentPlayer].score++;
        matchedPairs++;
    }else{
        c1.classList.remove("flipped");
        c2.classList.remove("flipped");
        currentPlayer=(currentPlayer+1)%players.length;
    }

    flippedCards=[];
    updateScore();

    if(matchedPairs===totalPairs){
        endGame();
    }
}

function updateScore(){
    let html="";
    players.forEach((p,i)=>{
        html+=`Ø§Ù„Ù„Ø§Ø¹Ø¨ ${i+1}: ${p.score} | `;
    });
    document.getElementById("scoreboard").innerHTML=html;
    document.getElementById("turn").innerText="Ø¯ÙˆØ± Ø§Ù„Ù„Ø§Ø¹Ø¨ "+(currentPlayer+1);
}

function endGame(){
    let max=Math.max(...players.map(p=>p.score));
    let winner=players.findIndex(p=>p.score===max);
    alert("ğŸ† Ø§Ù„ÙØ§Ø¦Ø²  "+(winner+1));
}

</script>
</body>
</html>
    
  
